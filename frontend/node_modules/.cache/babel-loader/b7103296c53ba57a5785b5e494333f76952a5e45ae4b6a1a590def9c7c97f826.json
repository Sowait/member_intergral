{"ast":null,"code":"import _toConsumableArray from \"/Users/libra520/JavaProject/repast-vip-system/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"orders\"\n};\nvar _hoisted_2 = {\n  \"class\": \"card-header\"\n};\nvar _hoisted_3 = {\n  \"class\": \"total-amount\"\n};\nvar _hoisted_4 = {\n  \"class\": \"amount-value\"\n};\nvar _hoisted_5 = {\n  \"class\": \"filter-section\"\n};\nvar _hoisted_6 = {\n  \"class\": \"amount\"\n};\nvar _hoisted_7 = {\n  \"class\": \"points\"\n};\nvar _hoisted_8 = {\n  \"class\": \"pagination\"\n};\nvar _hoisted_9 = {\n  key: 0,\n  \"class\": \"no-data\"\n};\nvar _hoisted_10 = {\n  \"class\": \"stat-item\"\n};\nvar _hoisted_11 = {\n  \"class\": \"stat-value\"\n};\nvar _hoisted_12 = {\n  \"class\": \"stat-item\"\n};\nvar _hoisted_13 = {\n  \"class\": \"stat-value\"\n};\nvar _hoisted_14 = {\n  \"class\": \"stat-item\"\n};\nvar _hoisted_15 = {\n  \"class\": \"stat-value\"\n};\nvar _hoisted_16 = {\n  \"class\": \"stat-item\"\n};\nvar _hoisted_17 = {\n  \"class\": \"stat-value\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_option = _resolveComponent(\"el-option\");\n  var _component_el_select = _resolveComponent(\"el-select\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  var _component_el_input_number = _resolveComponent(\"el-input-number\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  var _component_el_table_column = _resolveComponent(\"el-table-column\");\n  var _component_el_table = _resolveComponent(\"el-table\");\n  var _component_el_pagination = _resolveComponent(\"el-pagination\");\n  var _component_el_card = _resolveComponent(\"el-card\");\n  var _component_el_col = _resolveComponent(\"el-col\");\n  var _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, null, {\n    header: _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_2, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"消费记录\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createTextVNode(\" 累计消费：\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_4, \"¥\" + _toDisplayString($setup.totalAmount.toFixed(2)), 1 /* TEXT */)])])];\n    }),\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_form, {\n        inline: true,\n        model: $setup.filterForm,\n        \"class\": \"filter-form\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_form_item, {\n            label: \"门店\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_select, {\n                modelValue: $setup.filterForm.storeId,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n                  return $setup.filterForm.storeId = $event;\n                }),\n                placeholder: \"全部门店\",\n                clearable: \"\",\n                style: {\n                  \"width\": \"150px\"\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.stores, function (store) {\n                    return _openBlock(), _createBlock(_component_el_option, {\n                      key: store.id,\n                      label: store.storeName,\n                      value: store.id\n                    }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n                  }), 128 /* KEYED_FRAGMENT */))];\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"时间范围\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_date_picker, {\n                modelValue: $setup.filterForm.dateRange,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n                  return $setup.filterForm.dateRange = $event;\n                }),\n                type: \"daterange\",\n                \"range-separator\": \"至\",\n                \"start-placeholder\": \"开始日期\",\n                \"end-placeholder\": \"结束日期\",\n                format: \"YYYY-MM-DD\",\n                \"value-format\": \"YYYY-MM-DD\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"金额范围\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input_number, {\n                modelValue: $setup.filterForm.minAmount,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n                  return $setup.filterForm.minAmount = $event;\n                }),\n                placeholder: \"最小金额\",\n                min: 0,\n                precision: 2,\n                style: {\n                  \"width\": \"120px\"\n                }\n              }, null, 8 /* PROPS */, [\"modelValue\"]), _cache[8] || (_cache[8] = _createElementVNode(\"span\", {\n                style: {\n                  \"margin\": \"0 10px\"\n                }\n              }, \"-\", -1 /* CACHED */)), _createVNode(_component_el_input_number, {\n                modelValue: $setup.filterForm.maxAmount,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n                  return $setup.filterForm.maxAmount = $event;\n                }),\n                placeholder: \"最大金额\",\n                min: 0,\n                precision: 2,\n                style: {\n                  \"width\": \"120px\"\n                }\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, null, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: $setup.loadOrders\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[9] || (_cache[9] = [_createTextVNode(\"查询\", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n                onClick: $setup.resetFilter\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[10] || (_cache[10] = [_createTextVNode(\"重置\", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"])]), _createVNode(_component_el_table, {\n        data: $setup.orders,\n        style: {\n          \"width\": \"100%\"\n        }\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_table_column, {\n            prop: \"orderNo\",\n            label: \"订单号\",\n            width: \"220\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"storeName\",\n            label: \"门店\",\n            width: \"150\"\n          }, {\n            \"default\": _withCtx(function (scope) {\n              return [_createTextVNode(_toDisplayString($setup.getStoreName(scope.row.storeId)), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_table_column, {\n            prop: \"amount\",\n            label: \"消费金额\",\n            width: \"120\"\n          }, {\n            \"default\": _withCtx(function (scope) {\n              return [_createElementVNode(\"span\", _hoisted_6, \"¥\" + _toDisplayString(scope.row.amount), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_table_column, {\n            prop: \"pointsEarned\",\n            label: \"获得积分\",\n            width: \"100\"\n          }, {\n            \"default\": _withCtx(function (scope) {\n              return [_createElementVNode(\"span\", _hoisted_7, \"+\" + _toDisplayString(scope.row.pointsEarned), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_table_column, {\n            prop: \"description\",\n            label: \"描述\",\n            \"min-width\": \"200\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"orderTime\",\n            label: \"消费时间\",\n            width: \"180\"\n          }, {\n            \"default\": _withCtx(function (scope) {\n              return [_createTextVNode(_toDisplayString($setup.formatTime(scope.row.orderTime)), 1 /* TEXT */)];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"data\"]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_el_pagination, {\n        \"current-page\": $setup.pagination.current,\n        \"onUpdate:currentPage\": _cache[4] || (_cache[4] = function ($event) {\n          return $setup.pagination.current = $event;\n        }),\n        \"page-size\": $setup.pagination.size,\n        \"onUpdate:pageSize\": _cache[5] || (_cache[5] = function ($event) {\n          return $setup.pagination.size = $event;\n        }),\n        \"page-sizes\": [10, 20, 50, 100],\n        total: $setup.pagination.total,\n        layout: \"total, sizes, prev, pager, next, jumper\",\n        onSizeChange: $setup.handleSizeChange,\n        onCurrentChange: $setup.handleCurrentChange\n      }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\", \"onSizeChange\", \"onCurrentChange\"])]), $setup.orders.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \" 暂无消费记录 \")) : _createCommentVNode(\"v-if\", true)];\n    }),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 统计信息 \"), _createVNode(_component_el_row, {\n    gutter: 20,\n    style: {\n      \"margin-top\": \"20px\"\n    }\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_col, {\n        span: 6\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, {\n            \"class\": \"stat-card\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, _toDisplayString($setup.orderCount), 1 /* TEXT */), _cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n                \"class\": \"stat-label\"\n              }, \"消费次数\", -1 /* CACHED */))])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 6\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, {\n            \"class\": \"stat-card\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, \"¥\" + _toDisplayString($setup.totalAmount.toFixed(2)), 1 /* TEXT */), _cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n                \"class\": \"stat-label\"\n              }, \"累计消费\", -1 /* CACHED */))])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 6\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, {\n            \"class\": \"stat-card\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, _toDisplayString($setup.totalPoints), 1 /* TEXT */), _cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n                \"class\": \"stat-label\"\n              }, \"累计积分\", -1 /* CACHED */))])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 6\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, {\n            \"class\": \"stat-card\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, \"¥\" + _toDisplayString($setup.averageAmount.toFixed(2)), 1 /* TEXT */), _cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n                \"class\": \"stat-label\"\n              }, \"平均消费\", -1 /* CACHED */))])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$setup","totalAmount","toFixed","_hoisted_5","_component_el_form","inline","model","filterForm","_component_el_form_item","label","_component_el_select","storeId","$event","placeholder","clearable","style","_Fragment","_renderList","stores","store","_createBlock","_component_el_option","key","id","storeName","value","_component_el_date_picker","dateRange","type","format","_component_el_input_number","minAmount","min","precision","maxAmount","_component_el_button","onClick","loadOrders","_toConsumableArray","_cache","resetFilter","_component_el_table","data","orders","_component_el_table_column","prop","width","scope","getStoreName","row","_hoisted_6","amount","_hoisted_7","pointsEarned","formatTime","orderTime","_hoisted_8","_component_el_pagination","pagination","current","size","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","length","_hoisted_9","_createCommentVNode","_component_el_row","gutter","_component_el_col","span","_hoisted_10","_hoisted_11","orderCount","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","totalPoints","_hoisted_16","_hoisted_17","averageAmount"],"sources":["/Users/libra520/JavaProject/repast-vip-system/frontend/src/views/member/Orders.vue"],"sourcesContent":["<template>\n  <div class=\"orders\">\n    <el-card>\n      <template #header>\n        <div class=\"card-header\">\n          <span>消费记录</span>\n          <div class=\"total-amount\">\n            累计消费：<span class=\"amount-value\">¥{{ totalAmount.toFixed(2) }}</span>\n          </div>\n        </div>\n      </template>\n\n      <!-- 筛选条件 -->\n      <div class=\"filter-section\">\n        <el-form :inline=\"true\" :model=\"filterForm\" class=\"filter-form\">\n          <el-form-item label=\"门店\">\n            <el-select v-model=\"filterForm.storeId\" placeholder=\"全部门店\" clearable style=\"width: 150px\">\n              <el-option\n                v-for=\"store in stores\"\n                :key=\"store.id\"\n                :label=\"store.storeName\"\n                :value=\"store.id\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"时间范围\">\n            <el-date-picker\n              v-model=\"filterForm.dateRange\"\n              type=\"daterange\"\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              format=\"YYYY-MM-DD\"\n              value-format=\"YYYY-MM-DD\"\n            />\n          </el-form-item>\n          <el-form-item label=\"金额范围\">\n            <el-input-number\n              v-model=\"filterForm.minAmount\"\n              placeholder=\"最小金额\"\n              :min=\"0\"\n              :precision=\"2\"\n              style=\"width: 120px\"\n            />\n            <span style=\"margin: 0 10px;\">-</span>\n            <el-input-number\n              v-model=\"filterForm.maxAmount\"\n              placeholder=\"最大金额\"\n              :min=\"0\"\n              :precision=\"2\"\n              style=\"width: 120px\"\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"loadOrders\">查询</el-button>\n            <el-button @click=\"resetFilter\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <!-- 消费记录列表 -->\n      <el-table :data=\"orders\" style=\"width: 100%\">\n        <el-table-column prop=\"orderNo\" label=\"订单号\" width=\"220\" />\n        <el-table-column prop=\"storeName\" label=\"门店\" width=\"150\">\n          <template #default=\"scope\">\n            {{ getStoreName(scope.row.storeId) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"amount\" label=\"消费金额\" width=\"120\">\n          <template #default=\"scope\">\n            <span class=\"amount\">¥{{ scope.row.amount }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"pointsEarned\" label=\"获得积分\" width=\"100\">\n          <template #default=\"scope\">\n            <span class=\"points\">+{{ scope.row.pointsEarned }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"description\" label=\"描述\" min-width=\"200\" />\n        <el-table-column prop=\"orderTime\" label=\"消费时间\" width=\"180\">\n          <template #default=\"scope\">\n            {{ formatTime(scope.row.orderTime) }}\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页 -->\n      <div class=\"pagination\">\n        <el-pagination\n          v-model:current-page=\"pagination.current\"\n          v-model:page-size=\"pagination.size\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :total=\"pagination.total\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n\n      <div v-if=\"orders.length === 0\" class=\"no-data\">\n        暂无消费记录\n      </div>\n    </el-card>\n\n    <!-- 统计信息 -->\n    <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\">\n          <div class=\"stat-item\">\n            <div class=\"stat-value\">{{ orderCount }}</div>\n            <div class=\"stat-label\">消费次数</div>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\">\n          <div class=\"stat-item\">\n            <div class=\"stat-value\">¥{{ totalAmount.toFixed(2) }}</div>\n            <div class=\"stat-label\">累计消费</div>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\">\n          <div class=\"stat-item\">\n            <div class=\"stat-value\">{{ totalPoints }}</div>\n            <div class=\"stat-label\">累计积分</div>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"6\">\n        <el-card class=\"stat-card\">\n          <div class=\"stat-item\">\n            <div class=\"stat-value\">¥{{ averageAmount.toFixed(2) }}</div>\n            <div class=\"stat-label\">平均消费</div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport axios from 'axios'\n\nexport default {\n  name: 'MemberOrders',\n  setup() {\n    const orders = ref([])\n    const stores = ref([])\n    const storeMap = ref(new Map())\n\n    const filterForm = reactive({\n      storeId: '',\n      dateRange: [],\n      minAmount: null,\n      maxAmount: null\n    })\n\n    const pagination = reactive({\n      current: 1,\n      size: 10,\n      total: 0\n    })\n\n    const statistics = reactive({\n      orderCount: 0,\n      totalAmount: 0,\n      totalPoints: 0,\n      averageAmount: 0\n    })\n\n    const loadOrders = async () => {\n      try {\n        const params = {\n          current: pagination.current,\n          size: pagination.size,\n          storeId: filterForm.storeId || undefined\n        }\n\n        if (filterForm.dateRange && filterForm.dateRange.length === 2) {\n          params.startDate = filterForm.dateRange[0]\n          params.endDate = filterForm.dateRange[1]\n        }\n\n        if (filterForm.minAmount !== null) {\n          params.minAmount = filterForm.minAmount\n        }\n\n        if (filterForm.maxAmount !== null) {\n          params.maxAmount = filterForm.maxAmount\n        }\n\n        const response = await axios.get('/orders/my-orders', { params })\n        if (response.data.code === 200) {\n          orders.value = response.data.data.records || response.data.data\n          pagination.total = response.data.data.total || response.data.data.length\n          \n          // 同时加载统计数据\n          await loadStatistics()\n        }\n      } catch (error) {\n        ElMessage.error('获取消费记录失败')\n      }\n    }\n\n    const loadStores = async () => {\n      try {\n        const response = await axios.get('/orders/stores')\n        if (response.data.code === 200) {\n          stores.value = response.data.data\n          \n          // 构建门店映射\n          stores.value.forEach(store => {\n            storeMap.value.set(store.id, store.storeName)\n          })\n        }\n      } catch (error) {\n        console.error('获取门店列表失败', error)\n      }\n    }\n\n    const loadStatistics = async () => {\n      try {\n        const params = {}\n        \n        if (filterForm.storeId) {\n          params.storeId = filterForm.storeId\n        }\n        \n        if (filterForm.dateRange && filterForm.dateRange.length === 2) {\n          params.startDate = filterForm.dateRange[0]\n          params.endDate = filterForm.dateRange[1]\n        }\n        \n        if (filterForm.minAmount !== null) {\n          params.minAmount = filterForm.minAmount\n        }\n        \n        if (filterForm.maxAmount !== null) {\n          params.maxAmount = filterForm.maxAmount\n        }\n\n        const response = await axios.get('/orders/my-statistics', { params })\n        if (response.data.code === 200) {\n          const data = response.data.data\n          statistics.orderCount = data.orderCount || 0\n          statistics.totalAmount = data.totalAmount || 0\n          statistics.totalPoints = data.totalPoints || 0\n          statistics.averageAmount = data.averageAmount || 0\n        }\n      } catch (error) {\n        console.error('获取消费统计失败', error)\n      }\n    }\n\n    const resetFilter = () => {\n      filterForm.storeId = ''\n      filterForm.dateRange = []\n      filterForm.minAmount = null\n      filterForm.maxAmount = null\n      pagination.current = 1\n      loadOrders()\n    }\n\n    const handleSizeChange = (size) => {\n      pagination.size = size\n      pagination.current = 1\n      loadOrders()\n    }\n\n    const handleCurrentChange = (current) => {\n      pagination.current = current\n      loadOrders()\n    }\n\n    const getStoreName = (storeId) => {\n      return storeMap.value.get(storeId) || '未知门店'\n    }\n\n    const formatTime = (time) => {\n      return new Date(time).toLocaleString()\n    }\n\n    onMounted(() => {\n      loadStores()\n      loadOrders()\n    })\n\n    return {\n      orders,\n      stores,\n      filterForm,\n      pagination,\n      statistics,\n      loadOrders,\n      resetFilter,\n      handleSizeChange,\n      handleCurrentChange,\n      getStoreName,\n      formatTime,\n      orderCount: statistics.orderCount,\n      totalAmount: statistics.totalAmount,\n      totalPoints: statistics.totalPoints,\n      averageAmount: statistics.averageAmount\n    }\n  }\n}\n</script>\n\n<style scoped>\n.orders {\n  padding: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.total-amount {\n  color: #666;\n}\n\n.amount-value {\n  color: #409EFF;\n  font-weight: bold;\n  font-size: 18px;\n}\n\n.filter-section {\n  margin-bottom: 20px;\n}\n\n.filter-form {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.amount {\n  color: #E6A23C;\n  font-weight: bold;\n}\n\n.points {\n  color: #67C23A;\n  font-weight: bold;\n}\n\n.pagination {\n  margin-top: 20px;\n  text-align: center;\n}\n\n.no-data {\n  text-align: center;\n  color: #909399;\n  padding: 40px;\n}\n\n.stat-card {\n  text-align: center;\n}\n\n.stat-item {\n  padding: 20px;\n}\n\n.stat-value {\n  font-size: 28px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  color: #409EFF;\n}\n\n.stat-label {\n  color: #666;\n  font-size: 14px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}