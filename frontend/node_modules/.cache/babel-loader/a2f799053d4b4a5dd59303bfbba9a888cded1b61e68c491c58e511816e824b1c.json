{"ast":null,"code":"import { ref, reactive, computed, onMounted } from 'vue';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport { Picture } from '@element-plus/icons-vue';\nimport axios from 'axios';\nexport default {\n  name: 'MemberMall',\n  components: {\n    Picture\n  },\n  setup() {\n    const products = ref([]);\n    const memberInfo = reactive({\n      member: {}\n    });\n    const currentProduct = ref(null);\n    const detailDialogVisible = ref(false);\n    const activeCategory = ref('all');\n    const searchKeyword = ref('');\n    const sortBy = ref('default');\n    const stockFilter = ref('all');\n    const pagination = reactive({\n      current: 1,\n      size: 12,\n      total: 0\n    });\n    const filteredProducts = computed(() => {\n      let result = [...products.value];\n\n      // 分类筛选\n      if (activeCategory.value !== 'all') {\n        result = result.filter(product => product.category === activeCategory.value);\n      }\n\n      // 搜索筛选\n      if (searchKeyword.value) {\n        const keyword = searchKeyword.value.toLowerCase();\n        result = result.filter(product => product.productName.toLowerCase().includes(keyword) || product.description.toLowerCase().includes(keyword));\n      }\n\n      // 库存筛选\n      if (stockFilter.value === 'in_stock') {\n        result = result.filter(product => product.stockQuantity > 0);\n      } else if (stockFilter.value === 'low_stock') {\n        result = result.filter(product => product.stockQuantity > 0 && product.stockQuantity <= 10);\n      }\n\n      // 排序\n      if (sortBy.value === 'points_asc') {\n        result.sort((a, b) => a.pointsRequired - b.pointsRequired);\n      } else if (sortBy.value === 'points_desc') {\n        result.sort((a, b) => b.pointsRequired - a.pointsRequired);\n      } else if (sortBy.value === 'popular') {\n        result.sort((a, b) => b.exchangeCount - a.exchangeCount);\n      }\n      return result;\n    });\n    const loadProducts = async () => {\n      try {\n        const response = await axios.get('/api/exchange/products');\n        if (response.data.code === 200) {\n          products.value = response.data.data.map(product => ({\n            ...product,\n            category: product.category || 'food' // 模拟分类数据\n          }));\n          pagination.total = products.value.length;\n        }\n      } catch (error) {\n        ElMessage.error('获取商品列表失败');\n      }\n    };\n    const loadMemberInfo = async () => {\n      try {\n        const response = await axios.get('/api/member/profile');\n        if (response.data.code === 200) {\n          memberInfo.member = response.data.data.member;\n        }\n      } catch (error) {\n        console.error('获取会员信息失败', error);\n      }\n    };\n    const handleCategoryChange = () => {\n      pagination.current = 1;\n    };\n    const handleSearch = () => {\n      pagination.current = 1;\n    };\n    const handleSort = () => {\n      pagination.current = 1;\n    };\n    const handleStockFilter = () => {\n      pagination.current = 1;\n    };\n    const handleSizeChange = size => {\n      pagination.size = size;\n      pagination.current = 1;\n    };\n    const handleCurrentChange = current => {\n      pagination.current = current;\n    };\n    const handleViewDetail = product => {\n      currentProduct.value = product;\n      detailDialogVisible.value = true;\n    };\n    const handleQuickExchange = async product => {\n      await handleExchange(product);\n    };\n    const handleExchange = async product => {\n      try {\n        await ElMessageBox.confirm(`确定要用 ${product.pointsRequired} 积分兑换 ${product.productName} 吗？`, '确认兑换', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        });\n        const response = await axios.post('/api/exchange/exchange', {\n          productId: product.id\n        });\n        if (response.data.code === 200) {\n          ElMessage.success('兑换成功');\n          detailDialogVisible.value = false;\n\n          // 刷新数据\n          await loadProducts();\n          await loadMemberInfo();\n        } else {\n          ElMessage.error(response.data.message || '兑换失败');\n        }\n      } catch (error) {\n        if (error !== 'cancel') {\n          ElMessage.error(error.response?.data?.message || '兑换失败');\n        }\n      }\n    };\n    onMounted(() => {\n      loadProducts();\n      loadMemberInfo();\n    });\n    return {\n      products,\n      memberInfo,\n      currentProduct,\n      detailDialogVisible,\n      activeCategory,\n      searchKeyword,\n      sortBy,\n      stockFilter,\n      pagination,\n      filteredProducts,\n      handleCategoryChange,\n      handleSearch,\n      handleSort,\n      handleStockFilter,\n      handleSizeChange,\n      handleCurrentChange,\n      handleViewDetail,\n      handleQuickExchange,\n      handleExchange\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","onMounted","ElMessage","ElMessageBox","Picture","axios","name","components","setup","products","memberInfo","member","currentProduct","detailDialogVisible","activeCategory","searchKeyword","sortBy","stockFilter","pagination","current","size","total","filteredProducts","result","value","filter","product","category","keyword","toLowerCase","productName","includes","description","stockQuantity","sort","a","b","pointsRequired","exchangeCount","loadProducts","response","get","data","code","map","length","error","loadMemberInfo","console","handleCategoryChange","handleSearch","handleSort","handleStockFilter","handleSizeChange","handleCurrentChange","handleViewDetail","handleQuickExchange","handleExchange","confirm","confirmButtonText","cancelButtonText","type","post","productId","id","success","message"],"sources":["/Users/libra520/JavaProject/repast-vip-system/frontend/src/views/member/Mall.vue"],"sourcesContent":["<template>\n  <div class=\"mall\">\n    <el-card>\n      <template #header>\n        <div class=\"card-header\">\n          <span>积分商城</span>\n          <div class=\"points-display\">\n            可用积分：<span class=\"points-value\">{{ memberInfo.member?.availablePoints || 0 }}</span>\n          </div>\n        </div>\n      </template>\n\n      <!-- 商品分类 -->\n      <div class=\"category-section\">\n        <el-tabs v-model=\"activeCategory\" @tab-change=\"handleCategoryChange\">\n          <el-tab-pane label=\"全部商品\" name=\"all\" />\n          <el-tab-pane label=\"餐饮券\" name=\"food\" />\n          <el-tab-pane label=\"购物券\" name=\"shopping\" />\n          <el-tab-pane label=\"娱乐券\" name=\"entertainment\" />\n          <el-tab-pane label=\"生活服务\" name=\"service\" />\n        </el-tabs>\n      </div>\n\n      <!-- 筛选和排序 -->\n      <div class=\"filter-section\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"8\">\n            <el-input\n              v-model=\"searchKeyword\"\n              placeholder=\"搜索商品...\"\n              prefix-icon=\"Search\"\n              @input=\"handleSearch\"\n            />\n          </el-col>\n          <el-col :span=\"8\">\n            <el-select v-model=\"sortBy\" @change=\"handleSort\" style=\"width: 100%\">\n              <el-option label=\"默认排序\" value=\"default\" />\n              <el-option label=\"积分从低到高\" value=\"points_asc\" />\n              <el-option label=\"积分从高到低\" value=\"points_desc\" />\n              <el-option label=\"兑换最多\" value=\"popular\" />\n            </el-select>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-select v-model=\"stockFilter\" @change=\"handleStockFilter\" style=\"width: 100%\">\n              <el-option label=\"全部库存\" value=\"all\" />\n              <el-option label=\"仅显示有货\" value=\"in_stock\" />\n              <el-option label=\"即将售罄\" value=\"low_stock\" />\n            </el-select>\n          </el-col>\n        </el-row>\n      </div>\n\n      <!-- 商品列表 -->\n      <div class=\"products-grid\">\n        <div v-for=\"product in filteredProducts\" :key=\"product.id\" class=\"product-card\">\n          <div class=\"product-image\">\n            <img v-if=\"product.imageUrl\" :src=\"product.imageUrl\" :alt=\"product.productName\" />\n            <div v-else class=\"no-image\">\n              <el-icon size=\"40\"><Picture /></el-icon>\n            </div>\n            <div v-if=\"product.stockQuantity <= 10\" class=\"low-stock-badge\">\n              仅剩{{ product.stockQuantity }}件\n            </div>\n          </div>\n          <div class=\"product-info\">\n            <h3 class=\"product-name\">{{ product.productName }}</h3>\n            <p class=\"product-desc\">{{ product.description }}</p>\n            <div class=\"product-meta\">\n              <div class=\"product-points\">\n                <span class=\"points-required\">{{ product.pointsRequired }}</span>\n                <span class=\"points-unit\">积分</span>\n              </div>\n              <div class=\"product-stats\">\n                <span class=\"exchange-count\">{{ product.exchangeCount }}人已兑换</span>\n              </div>\n            </div>\n            <div class=\"product-actions\">\n              <el-button \n                type=\"primary\" \n                size=\"small\"\n                @click=\"handleQuickExchange(product)\"\n                :disabled=\"product.stockQuantity <= 0 || (memberInfo.member?.availablePoints || 0) < product.pointsRequired\"\n              >\n                {{ product.stockQuantity <= 0 ? '已售罄' : (memberInfo.member?.availablePoints || 0) < product.pointsRequired ? '积分不足' : '立即兑换' }}\n              </el-button>\n              <el-button size=\"small\" @click=\"handleViewDetail(product)\">\n                查看详情\n              </el-button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"filteredProducts.length === 0\" class=\"no-data\">\n        <el-empty description=\"暂无相关商品\" />\n      </div>\n\n      <!-- 分页 -->\n      <div class=\"pagination\">\n        <el-pagination\n          v-model:current-page=\"pagination.current\"\n          v-model:page-size=\"pagination.size\"\n          :page-sizes=\"[12, 24, 48]\"\n          :total=\"pagination.total\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-card>\n\n    <!-- 商品详情对话框 -->\n    <el-dialog v-model=\"detailDialogVisible\" title=\"商品详情\" width=\"60%\">\n      <div v-if=\"currentProduct\" class=\"product-detail\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <div class=\"detail-image\">\n              <img v-if=\"currentProduct.imageUrl\" :src=\"currentProduct.imageUrl\" :alt=\"currentProduct.productName\" />\n              <div v-else class=\"no-image-large\">\n                <el-icon size=\"80\"><Picture /></el-icon>\n              </div>\n            </div>\n          </el-col>\n          <el-col :span=\"12\">\n            <div class=\"detail-info\">\n              <h2>{{ currentProduct.productName }}</h2>\n              <div class=\"detail-points\">\n                <span class=\"points-large\">{{ currentProduct.pointsRequired }}</span>\n                <span class=\"points-unit\">积分</span>\n              </div>\n              <div class=\"detail-stock\">\n                库存：{{ currentProduct.stockQuantity }}件\n                <span v-if=\"currentProduct.stockQuantity <= 10\" class=\"low-stock-text\">\n                  （即将售罄）\n                </span>\n              </div>\n              <div class=\"detail-stats\">\n                {{ currentProduct.exchangeCount }}人已兑换\n              </div>\n              <div class=\"detail-description\">\n                <h4>商品描述</h4>\n                <p>{{ currentProduct.description }}</p>\n              </div>\n              <div class=\"detail-actions\">\n                <el-button \n                  type=\"primary\" \n                  size=\"large\"\n                  @click=\"handleExchange(currentProduct)\"\n                  :disabled=\"currentProduct.stockQuantity <= 0 || (memberInfo.member?.availablePoints || 0) < currentProduct.pointsRequired\"\n                >\n                  {{ currentProduct.stockQuantity <= 0 ? '已售罄' : (memberInfo.member?.availablePoints || 0) < currentProduct.pointsRequired ? '积分不足' : '立即兑换' }}\n                </el-button>\n              </div>\n            </div>\n          </el-col>\n        </el-row>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Picture } from '@element-plus/icons-vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'MemberMall',\n  components: {\n    Picture\n  },\n  setup() {\n    const products = ref([])\n    const memberInfo = reactive({ member: {} })\n    const currentProduct = ref(null)\n    const detailDialogVisible = ref(false)\n    const activeCategory = ref('all')\n    const searchKeyword = ref('')\n    const sortBy = ref('default')\n    const stockFilter = ref('all')\n\n    const pagination = reactive({\n      current: 1,\n      size: 12,\n      total: 0\n    })\n\n    const filteredProducts = computed(() => {\n      let result = [...products.value]\n\n      // 分类筛选\n      if (activeCategory.value !== 'all') {\n        result = result.filter(product => product.category === activeCategory.value)\n      }\n\n      // 搜索筛选\n      if (searchKeyword.value) {\n        const keyword = searchKeyword.value.toLowerCase()\n        result = result.filter(product => \n          product.productName.toLowerCase().includes(keyword) ||\n          product.description.toLowerCase().includes(keyword)\n        )\n      }\n\n      // 库存筛选\n      if (stockFilter.value === 'in_stock') {\n        result = result.filter(product => product.stockQuantity > 0)\n      } else if (stockFilter.value === 'low_stock') {\n        result = result.filter(product => product.stockQuantity > 0 && product.stockQuantity <= 10)\n      }\n\n      // 排序\n      if (sortBy.value === 'points_asc') {\n        result.sort((a, b) => a.pointsRequired - b.pointsRequired)\n      } else if (sortBy.value === 'points_desc') {\n        result.sort((a, b) => b.pointsRequired - a.pointsRequired)\n      } else if (sortBy.value === 'popular') {\n        result.sort((a, b) => b.exchangeCount - a.exchangeCount)\n      }\n\n      return result\n    })\n\n    const loadProducts = async () => {\n      try {\n        const response = await axios.get('/api/exchange/products')\n        if (response.data.code === 200) {\n          products.value = response.data.data.map(product => ({\n            ...product,\n            category: product.category || 'food' // 模拟分类数据\n          }))\n          pagination.total = products.value.length\n        }\n      } catch (error) {\n        ElMessage.error('获取商品列表失败')\n      }\n    }\n\n    const loadMemberInfo = async () => {\n      try {\n        const response = await axios.get('/api/member/profile')\n        if (response.data.code === 200) {\n          memberInfo.member = response.data.data.member\n        }\n      } catch (error) {\n        console.error('获取会员信息失败', error)\n      }\n    }\n\n    const handleCategoryChange = () => {\n      pagination.current = 1\n    }\n\n    const handleSearch = () => {\n      pagination.current = 1\n    }\n\n    const handleSort = () => {\n      pagination.current = 1\n    }\n\n    const handleStockFilter = () => {\n      pagination.current = 1\n    }\n\n    const handleSizeChange = (size) => {\n      pagination.size = size\n      pagination.current = 1\n    }\n\n    const handleCurrentChange = (current) => {\n      pagination.current = current\n    }\n\n    const handleViewDetail = (product) => {\n      currentProduct.value = product\n      detailDialogVisible.value = true\n    }\n\n    const handleQuickExchange = async (product) => {\n      await handleExchange(product)\n    }\n\n    const handleExchange = async (product) => {\n      try {\n        await ElMessageBox.confirm(\n          `确定要用 ${product.pointsRequired} 积分兑换 ${product.productName} 吗？`,\n          '确认兑换',\n          {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }\n        )\n\n        const response = await axios.post('/api/exchange/exchange', {\n          productId: product.id\n        })\n\n        if (response.data.code === 200) {\n          ElMessage.success('兑换成功')\n          detailDialogVisible.value = false\n          \n          // 刷新数据\n          await loadProducts()\n          await loadMemberInfo()\n        } else {\n          ElMessage.error(response.data.message || '兑换失败')\n        }\n      } catch (error) {\n        if (error !== 'cancel') {\n          ElMessage.error(error.response?.data?.message || '兑换失败')\n        }\n      }\n    }\n\n    onMounted(() => {\n      loadProducts()\n      loadMemberInfo()\n    })\n\n    return {\n      products,\n      memberInfo,\n      currentProduct,\n      detailDialogVisible,\n      activeCategory,\n      searchKeyword,\n      sortBy,\n      stockFilter,\n      pagination,\n      filteredProducts,\n      handleCategoryChange,\n      handleSearch,\n      handleSort,\n      handleStockFilter,\n      handleSizeChange,\n      handleCurrentChange,\n      handleViewDetail,\n      handleQuickExchange,\n      handleExchange\n    }\n  }\n}\n</script>\n\n<style scoped>\n.mall {\n  padding: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.points-display {\n  color: #666;\n}\n\n.points-value {\n  color: #409EFF;\n  font-weight: bold;\n  font-size: 18px;\n}\n\n.category-section {\n  margin-bottom: 20px;\n}\n\n.filter-section {\n  margin-bottom: 20px;\n}\n\n.products-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n  margin-bottom: 20px;\n}\n\n.product-card {\n  border: 1px solid #e4e7ed;\n  border-radius: 8px;\n  overflow: hidden;\n  transition: box-shadow 0.3s;\n  background: white;\n}\n\n.product-card:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.product-image {\n  width: 100%;\n  height: 180px;\n  background: #f5f7fa;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  position: relative;\n}\n\n.product-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.no-image {\n  color: #c0c4cc;\n}\n\n.low-stock-badge {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background: #f56c6c;\n  color: white;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.product-info {\n  padding: 15px;\n}\n\n.product-name {\n  margin: 0 0 10px 0;\n  font-size: 16px;\n  color: #303133;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.product-desc {\n  color: #606266;\n  font-size: 14px;\n  margin: 0 0 15px 0;\n  line-height: 1.5;\n  height: 42px;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.product-meta {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.product-points {\n  display: flex;\n  align-items: baseline;\n}\n\n.points-required {\n  color: #f56c6c;\n  font-size: 20px;\n  font-weight: bold;\n}\n\n.points-unit {\n  color: #909399;\n  font-size: 14px;\n  margin-left: 4px;\n}\n\n.product-stats {\n  color: #909399;\n  font-size: 12px;\n}\n\n.product-actions {\n  display: flex;\n  gap: 10px;\n}\n\n.no-data {\n  text-align: center;\n  padding: 40px;\n}\n\n.pagination {\n  text-align: center;\n  margin-top: 20px;\n}\n\n.product-detail {\n  padding: 20px 0;\n}\n\n.detail-image {\n  text-align: center;\n}\n\n.detail-image img {\n  max-width: 100%;\n  border-radius: 8px;\n}\n\n.no-image-large {\n  height: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #f5f7fa;\n  color: #c0c4cc;\n  border-radius: 8px;\n}\n\n.detail-info h2 {\n  margin: 0 0 20px 0;\n  color: #303133;\n}\n\n.detail-points {\n  margin-bottom: 15px;\n}\n\n.points-large {\n  color: #f56c6c;\n  font-size: 32px;\n  font-weight: bold;\n}\n\n.detail-stock {\n  color: #606266;\n  margin-bottom: 10px;\n}\n\n.low-stock-text {\n  color: #f56c6c;\n  font-weight: bold;\n}\n\n.detail-stats {\n  color: #909399;\n  margin-bottom: 20px;\n}\n\n.detail-description h4 {\n  margin: 0 0 10px 0;\n  color: #303133;\n}\n\n.detail-description p {\n  color: #606266;\n  line-height: 1.6;\n  margin: 0;\n}\n\n.detail-actions {\n  margin-top: 30px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}