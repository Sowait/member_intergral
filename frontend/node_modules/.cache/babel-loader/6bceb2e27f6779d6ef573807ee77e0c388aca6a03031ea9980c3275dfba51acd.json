{"ast":null,"code":"import _toConsumableArray from \"/Users/libra520/JavaProject/repast-vip-system/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"dashboard\"\n};\nvar _hoisted_2 = {\n  \"class\": \"member-info\"\n};\nvar _hoisted_3 = {\n  \"class\": \"avatar\"\n};\nvar _hoisted_4 = {\n  \"class\": \"info\"\n};\nvar _hoisted_5 = {\n  \"class\": \"points-info\"\n};\nvar _hoisted_6 = {\n  \"class\": \"points-item\"\n};\nvar _hoisted_7 = {\n  \"class\": \"points-value\"\n};\nvar _hoisted_8 = {\n  \"class\": \"points-item\"\n};\nvar _hoisted_9 = {\n  \"class\": \"points-value\"\n};\nvar _hoisted_10 = {\n  \"class\": \"level-progress\"\n};\nvar _hoisted_11 = {\n  \"class\": \"progress-text\"\n};\nvar _hoisted_12 = {\n  \"class\": \"actions\"\n};\nvar _hoisted_13 = {\n  \"class\": \"card-header\"\n};\nvar _hoisted_14 = {\n  \"class\": \"recent-records\"\n};\nvar _hoisted_15 = {\n  \"class\": \"record-info\"\n};\nvar _hoisted_16 = {\n  \"class\": \"record-desc\"\n};\nvar _hoisted_17 = {\n  \"class\": \"record-time\"\n};\nvar _hoisted_18 = {\n  key: 0,\n  \"class\": \"no-data\"\n};\nvar _hoisted_19 = {\n  \"class\": \"card-header\"\n};\nvar _hoisted_20 = {\n  \"class\": \"recent-records\"\n};\nvar _hoisted_21 = {\n  \"class\": \"record-info\"\n};\nvar _hoisted_22 = {\n  \"class\": \"record-desc\"\n};\nvar _hoisted_23 = {\n  \"class\": \"record-time\"\n};\nvar _hoisted_24 = {\n  \"class\": \"record-amount\"\n};\nvar _hoisted_25 = {\n  key: 0,\n  \"class\": \"no-data\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_avatar = _resolveComponent(\"el-avatar\");\n  var _component_el_card = _resolveComponent(\"el-card\");\n  var _component_el_col = _resolveComponent(\"el-col\");\n  var _component_el_progress = _resolveComponent(\"el-progress\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_row, {\n    gutter: 20\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createCommentVNode(\" 会员信息卡片 \"), _createVNode(_component_el_col, {\n        span: 8\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, {\n            \"class\": \"member-card\"\n          }, {\n            header: _withCtx(function () {\n              return _toConsumableArray(_cache[5] || (_cache[5] = [_createElementVNode(\"div\", {\n                \"class\": \"card-header\"\n              }, [_createElementVNode(\"span\", null, \"会员信息\")], -1 /* CACHED */)]));\n            }),\n            \"default\": _withCtx(function () {\n              var _$setup$memberInfo$us, _$setup$memberInfo$me, _$setup$memberInfo$me2, _$setup$memberInfo$us2;\n              return [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_avatar, {\n                size: 80,\n                icon: \"User\"\n              })]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h3\", null, _toDisplayString((_$setup$memberInfo$us = $setup.memberInfo.user) === null || _$setup$memberInfo$us === void 0 ? void 0 : _$setup$memberInfo$us.username), 1 /* TEXT */), _createElementVNode(\"p\", null, \"会员号：\" + _toDisplayString((_$setup$memberInfo$me = $setup.memberInfo.member) === null || _$setup$memberInfo$me === void 0 ? void 0 : _$setup$memberInfo$me.memberCode), 1 /* TEXT */), _createElementVNode(\"p\", null, \"等级：\" + _toDisplayString($setup.getLevelText((_$setup$memberInfo$me2 = $setup.memberInfo.member) === null || _$setup$memberInfo$me2 === void 0 ? void 0 : _$setup$memberInfo$me2.level)), 1 /* TEXT */), _createElementVNode(\"p\", null, \"手机：\" + _toDisplayString((_$setup$memberInfo$us2 = $setup.memberInfo.user) === null || _$setup$memberInfo$us2 === void 0 ? void 0 : _$setup$memberInfo$us2.phone), 1 /* TEXT */)])])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 积分信息卡片 \"), _createVNode(_component_el_col, {\n        span: 8\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, {\n            \"class\": \"points-card\"\n          }, {\n            header: _withCtx(function () {\n              return _toConsumableArray(_cache[6] || (_cache[6] = [_createElementVNode(\"div\", {\n                \"class\": \"card-header\"\n              }, [_createElementVNode(\"span\", null, \"积分信息\")], -1 /* CACHED */)]));\n            }),\n            \"default\": _withCtx(function () {\n              var _$setup$memberInfo$me3, _$setup$memberInfo$me4, _$setup$memberInfo$me5, _$setup$memberInfo$me6, _$setup$memberInfo$me7;\n              return [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString(((_$setup$memberInfo$me3 = $setup.memberInfo.member) === null || _$setup$memberInfo$me3 === void 0 ? void 0 : _$setup$memberInfo$me3.availablePoints) || 0), 1 /* TEXT */), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n                \"class\": \"points-label\"\n              }, \"可用积分\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, _toDisplayString(((_$setup$memberInfo$me4 = $setup.memberInfo.member) === null || _$setup$memberInfo$me4 === void 0 ? void 0 : _$setup$memberInfo$me4.totalPoints) || 0), 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n                \"class\": \"points-label\"\n              }, \"总积分\", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_el_progress, {\n                percentage: $setup.getLevelProgress(((_$setup$memberInfo$me5 = $setup.memberInfo.member) === null || _$setup$memberInfo$me5 === void 0 ? void 0 : _$setup$memberInfo$me5.totalPoints) || 0),\n                color: $setup.getLevelColor((_$setup$memberInfo$me6 = $setup.memberInfo.member) === null || _$setup$memberInfo$me6 === void 0 ? void 0 : _$setup$memberInfo$me6.level)\n              }, null, 8 /* PROPS */, [\"percentage\", \"color\"]), _createElementVNode(\"p\", _hoisted_11, \"距离下一级还需 \" + _toDisplayString($setup.getNextLevelPoints(((_$setup$memberInfo$me7 = $setup.memberInfo.member) === null || _$setup$memberInfo$me7 === void 0 ? void 0 : _$setup$memberInfo$me7.totalPoints) || 0)) + \" 积分\", 1 /* TEXT */)])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 快捷操作 \"), _createVNode(_component_el_col, {\n        span: 8\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, {\n            \"class\": \"actions-card\"\n          }, {\n            header: _withCtx(function () {\n              return _toConsumableArray(_cache[9] || (_cache[9] = [_createElementVNode(\"div\", {\n                \"class\": \"card-header\"\n              }, [_createElementVNode(\"span\", null, \"快捷操作\")], -1 /* CACHED */)]));\n            }),\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: _cache[0] || (_cache[0] = function ($event) {\n                  return _ctx.$router.push('/member/exchange');\n                }),\n                style: {\n                  \"width\": \"100%\",\n                  \"margin-bottom\": \"10px\"\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[10] || (_cache[10] = [_createTextVNode(\" 积分兑换 \", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_el_button, {\n                type: \"success\",\n                onClick: _cache[1] || (_cache[1] = function ($event) {\n                  return _ctx.$router.push('/member/points');\n                }),\n                style: {\n                  \"width\": \"100%\",\n                  \"margin-bottom\": \"10px\"\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[11] || (_cache[11] = [_createTextVNode(\" 积分记录 \", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_el_button, {\n                type: \"info\",\n                onClick: _cache[2] || (_cache[2] = function ($event) {\n                  return _ctx.$router.push('/member/orders');\n                }),\n                style: {\n                  \"width\": \"100%\"\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[12] || (_cache[12] = [_createTextVNode(\" 消费记录 \", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              })])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 最近活动 \"), _createVNode(_component_el_row, {\n    gutter: 20,\n    style: {\n      \"margin-top\": \"20px\"\n    }\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_col, {\n        span: 12\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, null, {\n            header: _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_13, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", null, \"最近积分记录\", -1 /* CACHED */)), _createVNode(_component_el_button, {\n                type: \"text\",\n                onClick: _cache[3] || (_cache[3] = function ($event) {\n                  return _ctx.$router.push('/member/points');\n                })\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[13] || (_cache[13] = [_createTextVNode(\"查看全部\", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              })])];\n            }),\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.recentPointRecords.slice(0, 5), function (record) {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  key: record.id,\n                  \"class\": \"record-item\"\n                }, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, _toDisplayString(record.description), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_17, _toDisplayString($setup.formatTime(record.createTime)), 1 /* TEXT */)]), _createElementVNode(\"div\", {\n                  \"class\": _normalizeClass([\"record-points\", {\n                    'positive': record.pointsChange > 0,\n                    'negative': record.pointsChange < 0\n                  }])\n                }, _toDisplayString(record.pointsChange > 0 ? '+' : '') + _toDisplayString(record.pointsChange), 3 /* TEXT, CLASS */)]);\n              }), 128 /* KEYED_FRAGMENT */)), $setup.recentPointRecords.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, \" 暂无积分记录 \")) : _createCommentVNode(\"v-if\", true)])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 12\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_card, null, {\n            header: _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_19, [_cache[16] || (_cache[16] = _createElementVNode(\"span\", null, \"最近消费记录\", -1 /* CACHED */)), _createVNode(_component_el_button, {\n                type: \"text\",\n                onClick: _cache[4] || (_cache[4] = function ($event) {\n                  return _ctx.$router.push('/member/orders');\n                })\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[15] || (_cache[15] = [_createTextVNode(\"查看全部\", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              })])];\n            }),\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_20, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.recentOrders.slice(0, 5), function (order) {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  key: order.id,\n                  \"class\": \"record-item\"\n                }, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, _toDisplayString(order.description || '消费'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_23, _toDisplayString($setup.formatTime(order.orderTime)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_24, \" ¥\" + _toDisplayString(order.amount) + \" (\" + _toDisplayString(order.pointsEarned) + \"积分) \", 1 /* TEXT */)]);\n              }), 128 /* KEYED_FRAGMENT */)), $setup.recentOrders.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, \" 暂无消费记录 \")) : _createCommentVNode(\"v-if\", true)])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createVNode","_component_el_row","gutter","_createCommentVNode","_component_el_col","span","_component_el_card","header","_withCtx","_toConsumableArray","_cache","_createElementVNode","_$setup$memberInfo$us","_$setup$memberInfo$me","_$setup$memberInfo$me2","_$setup$memberInfo$us2","_hoisted_2","_hoisted_3","_component_el_avatar","size","icon","_hoisted_4","_toDisplayString","$setup","memberInfo","user","username","member","memberCode","getLevelText","level","phone","_$setup$memberInfo$me3","_$setup$memberInfo$me4","_$setup$memberInfo$me5","_$setup$memberInfo$me6","_$setup$memberInfo$me7","_hoisted_5","_hoisted_6","_hoisted_7","availablePoints","_hoisted_8","_hoisted_9","totalPoints","_hoisted_10","_component_el_progress","percentage","getLevelProgress","color","getLevelColor","_hoisted_11","getNextLevelPoints","_hoisted_12","_component_el_button","type","onClick","$event","_ctx","$router","push","style","_hoisted_13","_hoisted_14","_Fragment","_renderList","recentPointRecords","slice","record","key","id","_hoisted_15","_hoisted_16","description","_hoisted_17","formatTime","createTime","_normalizeClass","pointsChange","length","_hoisted_18","_hoisted_19","_hoisted_20","recentOrders","order","_hoisted_21","_hoisted_22","_hoisted_23","orderTime","_hoisted_24","amount","pointsEarned","_hoisted_25"],"sources":["/Users/libra520/JavaProject/repast-vip-system/frontend/src/views/member/Dashboard.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <el-row :gutter=\"20\">\n      <!-- 会员信息卡片 -->\n      <el-col :span=\"8\">\n        <el-card class=\"member-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>会员信息</span>\n            </div>\n          </template>\n          <div class=\"member-info\">\n            <div class=\"avatar\">\n              <el-avatar :size=\"80\" icon=\"User\" />\n            </div>\n            <div class=\"info\">\n              <h3>{{ memberInfo.user?.username }}</h3>\n              <p>会员号：{{ memberInfo.member?.memberCode }}</p>\n              <p>等级：{{ getLevelText(memberInfo.member?.level) }}</p>\n              <p>手机：{{ memberInfo.user?.phone }}</p>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n\n      <!-- 积分信息卡片 -->\n      <el-col :span=\"8\">\n        <el-card class=\"points-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>积分信息</span>\n            </div>\n          </template>\n          <div class=\"points-info\">\n            <div class=\"points-item\">\n              <div class=\"points-value\">{{ memberInfo.member?.availablePoints || 0 }}</div>\n              <div class=\"points-label\">可用积分</div>\n            </div>\n            <div class=\"points-item\">\n              <div class=\"points-value\">{{ memberInfo.member?.totalPoints || 0 }}</div>\n              <div class=\"points-label\">总积分</div>\n            </div>\n          </div>\n          <div class=\"level-progress\">\n            <el-progress \n              :percentage=\"getLevelProgress(memberInfo.member?.totalPoints || 0)\" \n              :color=\"getLevelColor(memberInfo.member?.level)\"\n            />\n            <p class=\"progress-text\">距离下一级还需 {{ getNextLevelPoints(memberInfo.member?.totalPoints || 0) }} 积分</p>\n          </div>\n        </el-card>\n      </el-col>\n\n      <!-- 快捷操作 -->\n      <el-col :span=\"8\">\n        <el-card class=\"actions-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>快捷操作</span>\n            </div>\n          </template>\n          <div class=\"actions\">\n            <el-button type=\"primary\" @click=\"$router.push('/member/exchange')\" style=\"width: 100%; margin-bottom: 10px;\">\n              积分兑换\n            </el-button>\n            <el-button type=\"success\" @click=\"$router.push('/member/points')\" style=\"width: 100%; margin-bottom: 10px;\">\n              积分记录\n            </el-button>\n            <el-button type=\"info\" @click=\"$router.push('/member/orders')\" style=\"width: 100%;\">\n              消费记录\n            </el-button>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 最近活动 -->\n    <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\n      <el-col :span=\"12\">\n        <el-card>\n          <template #header>\n            <div class=\"card-header\">\n              <span>最近积分记录</span>\n              <el-button type=\"text\" @click=\"$router.push('/member/points')\">查看全部</el-button>\n            </div>\n          </template>\n          <div class=\"recent-records\">\n            <div v-for=\"record in recentPointRecords.slice(0, 5)\" :key=\"record.id\" class=\"record-item\">\n              <div class=\"record-info\">\n                <div class=\"record-desc\">{{ record.description }}</div>\n                <div class=\"record-time\">{{ formatTime(record.createTime) }}</div>\n              </div>\n              <div class=\"record-points\" :class=\"{ 'positive': record.pointsChange > 0, 'negative': record.pointsChange < 0 }\">\n                {{ record.pointsChange > 0 ? '+' : '' }}{{ record.pointsChange }}\n              </div>\n            </div>\n            <div v-if=\"recentPointRecords.length === 0\" class=\"no-data\">\n              暂无积分记录\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n\n      <el-col :span=\"12\">\n        <el-card>\n          <template #header>\n            <div class=\"card-header\">\n              <span>最近消费记录</span>\n              <el-button type=\"text\" @click=\"$router.push('/member/orders')\">查看全部</el-button>\n            </div>\n          </template>\n          <div class=\"recent-records\">\n            <div v-for=\"order in recentOrders.slice(0, 5)\" :key=\"order.id\" class=\"record-item\">\n              <div class=\"record-info\">\n                <div class=\"record-desc\">{{ order.description || '消费' }}</div>\n                <div class=\"record-time\">{{ formatTime(order.orderTime) }}</div>\n              </div>\n              <div class=\"record-amount\">\n                ¥{{ order.amount }} ({{ order.pointsEarned }}积分)\n              </div>\n            </div>\n            <div v-if=\"recentOrders.length === 0\" class=\"no-data\">\n              暂无消费记录\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport axios from 'axios'\n\nexport default {\n  name: 'MemberDashboard',\n  setup() {\n    const memberInfo = ref({})\n    const recentPointRecords = ref([])\n    const recentOrders = ref([])\n\n    const loadMemberInfo = async () => {\n      try {\n        const response = await axios.get('/api/member/profile')\n        if (response.data.code === 200) {\n          memberInfo.value = response.data.data\n        }\n      } catch (error) {\n        ElMessage.error('获取会员信息失败')\n      }\n    }\n\n    const loadRecentPointRecords = async () => {\n      try {\n        const response = await axios.get('/api/member/points')\n        if (response.data.code === 200) {\n          recentPointRecords.value = response.data.data\n        }\n      } catch (error) {\n        console.error('获取积分记录失败', error)\n      }\n    }\n\n    const loadRecentOrders = async () => {\n      try {\n        const response = await axios.get('/api/orders/my-orders')\n        if (response.data.code === 200) {\n          recentOrders.value = response.data.data\n        }\n      } catch (error) {\n        console.error('获取消费记录失败', error)\n      }\n    }\n\n    const getLevelText = (level) => {\n      const levelMap = {\n        'BRONZE': '青铜会员',\n        'SILVER': '白银会员',\n        'GOLD': '黄金会员',\n        'PLATINUM': '铂金会员'\n      }\n      return levelMap[level] || '普通会员'\n    }\n\n    const getLevelProgress = (totalPoints) => {\n      if (totalPoints >= 5000) return 100\n      if (totalPoints >= 2000) return ((totalPoints - 2000) / 3000) * 100\n      if (totalPoints >= 500) return ((totalPoints - 500) / 1500) * 100\n      return (totalPoints / 500) * 100\n    }\n\n    const getLevelColor = (level) => {\n      const colorMap = {\n        'BRONZE': '#CD7F32',\n        'SILVER': '#C0C0C0',\n        'GOLD': '#FFD700',\n        'PLATINUM': '#E5E4E2'\n      }\n      return colorMap[level] || '#409EFF'\n    }\n\n    const getNextLevelPoints = (totalPoints) => {\n      if (totalPoints >= 5000) return 0\n      if (totalPoints >= 2000) return 5000 - totalPoints\n      if (totalPoints >= 500) return 2000 - totalPoints\n      return 500 - totalPoints\n    }\n\n    const formatTime = (time) => {\n      return new Date(time).toLocaleString()\n    }\n\n    onMounted(() => {\n      loadMemberInfo()\n      loadRecentPointRecords()\n      loadRecentOrders()\n    })\n\n    return {\n      memberInfo,\n      recentPointRecords,\n      recentOrders,\n      getLevelText,\n      getLevelProgress,\n      getLevelColor,\n      getNextLevelPoints,\n      formatTime\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dashboard {\n  padding: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.member-info {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.info h3 {\n  margin: 0 0 10px 0;\n  color: #333;\n}\n\n.info p {\n  margin: 5px 0;\n  color: #666;\n}\n\n.points-info {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n}\n\n.points-item {\n  text-align: center;\n}\n\n.points-value {\n  font-size: 32px;\n  font-weight: bold;\n  color: #409EFF;\n}\n\n.points-label {\n  color: #666;\n  margin-top: 5px;\n}\n\n.level-progress {\n  margin-top: 20px;\n}\n\n.progress-text {\n  text-align: center;\n  margin-top: 10px;\n  color: #666;\n  font-size: 14px;\n}\n\n.actions {\n  display: flex;\n  flex-direction: column;\n}\n\n.recent-records {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.record-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.record-info {\n  flex: 1;\n}\n\n.record-desc {\n  color: #333;\n  margin-bottom: 5px;\n}\n\n.record-time {\n  color: #999;\n  font-size: 12px;\n}\n\n.record-points.positive {\n  color: #67C23A;\n  font-weight: bold;\n}\n\n.record-points.negative {\n  color: #F56C6C;\n  font-weight: bold;\n}\n\n.record-amount {\n  color: #409EFF;\n  font-weight: bold;\n}\n\n.no-data {\n  text-align: center;\n  color: #999;\n  padding: 20px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}