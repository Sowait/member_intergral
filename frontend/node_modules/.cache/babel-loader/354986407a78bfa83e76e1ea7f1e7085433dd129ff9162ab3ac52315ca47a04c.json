{"ast":null,"code":"import _toConsumableArray from \"/Users/libra520/JavaProject/repast-vip-system/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"profile\"\n};\nvar _hoisted_2 = {\n  \"class\": \"card-header\"\n};\nvar _hoisted_3 = {\n  \"class\": \"profile-content\"\n};\nvar _hoisted_4 = {\n  \"class\": \"avatar-section\"\n};\nvar _hoisted_5 = {\n  \"class\": \"info-section\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_avatar = _resolveComponent(\"el-avatar\");\n  var _component_el_tag = _resolveComponent(\"el-tag\");\n  var _component_el_col = _resolveComponent(\"el-col\");\n  var _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n  var _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n  var _component_el_row = _resolveComponent(\"el-row\");\n  var _component_el_card = _resolveComponent(\"el-card\");\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  var _component_el_dialog = _resolveComponent(\"el-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, null, {\n    header: _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"个人资料\", -1 /* CACHED */)), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleEdit\n      }, {\n        \"default\": _withCtx(function () {\n          return _toConsumableArray(_cache[8] || (_cache[8] = [_createTextVNode(\"编辑资料\", -1 /* CACHED */)]));\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])])];\n    }),\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_row, {\n        gutter: 20\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_col, {\n            span: 8\n          }, {\n            \"default\": _withCtx(function () {\n              var _$setup$memberInfo$us, _$setup$memberInfo$me;\n              return [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_avatar, {\n                size: 120,\n                icon: \"User\"\n              }), _createElementVNode(\"h3\", null, _toDisplayString((_$setup$memberInfo$us = $setup.memberInfo.user) === null || _$setup$memberInfo$us === void 0 ? void 0 : _$setup$memberInfo$us.username), 1 /* TEXT */), _createVNode(_component_el_tag, {\n                type: $setup.getLevelTagType((_$setup$memberInfo$me = $setup.memberInfo.member) === null || _$setup$memberInfo$me === void 0 ? void 0 : _$setup$memberInfo$me.level)\n              }, {\n                \"default\": _withCtx(function () {\n                  var _$setup$memberInfo$me2;\n                  return [_createTextVNode(_toDisplayString($setup.getLevelText((_$setup$memberInfo$me2 = $setup.memberInfo.member) === null || _$setup$memberInfo$me2 === void 0 ? void 0 : _$setup$memberInfo$me2.level)), 1 /* TEXT */)];\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"type\"])])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_col, {\n            span: 16\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_descriptions, {\n                column: 2,\n                border: \"\"\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_descriptions_item, {\n                    label: \"会员号\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$me3;\n                      return [_createTextVNode(_toDisplayString((_$setup$memberInfo$me3 = $setup.memberInfo.member) === null || _$setup$memberInfo$me3 === void 0 ? void 0 : _$setup$memberInfo$me3.memberCode), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_descriptions_item, {\n                    label: \"用户名\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$us2;\n                      return [_createTextVNode(_toDisplayString((_$setup$memberInfo$us2 = $setup.memberInfo.user) === null || _$setup$memberInfo$us2 === void 0 ? void 0 : _$setup$memberInfo$us2.username), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_descriptions_item, {\n                    label: \"手机号\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$us3;\n                      return [_createTextVNode(_toDisplayString((_$setup$memberInfo$us3 = $setup.memberInfo.user) === null || _$setup$memberInfo$us3 === void 0 ? void 0 : _$setup$memberInfo$us3.phone), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_descriptions_item, {\n                    label: \"邮箱\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$us4;\n                      return [_createTextVNode(_toDisplayString((_$setup$memberInfo$us4 = $setup.memberInfo.user) === null || _$setup$memberInfo$us4 === void 0 ? void 0 : _$setup$memberInfo$us4.email), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_descriptions_item, {\n                    label: \"总积分\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$me4;\n                      return [_createTextVNode(_toDisplayString((_$setup$memberInfo$me4 = $setup.memberInfo.member) === null || _$setup$memberInfo$me4 === void 0 ? void 0 : _$setup$memberInfo$me4.totalPoints), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_descriptions_item, {\n                    label: \"可用积分\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$me5;\n                      return [_createTextVNode(_toDisplayString((_$setup$memberInfo$me5 = $setup.memberInfo.member) === null || _$setup$memberInfo$me5 === void 0 ? void 0 : _$setup$memberInfo$me5.availablePoints), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_descriptions_item, {\n                    label: \"注册时间\",\n                    span: 2\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$me6;\n                      return [_createTextVNode(_toDisplayString($setup.formatTime((_$setup$memberInfo$me6 = $setup.memberInfo.member) === null || _$setup$memberInfo$me6 === void 0 ? void 0 : _$setup$memberInfo$me6.createTime)), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_descriptions_item, {\n                    label: \"最后更新\",\n                    span: 2\n                  }, {\n                    \"default\": _withCtx(function () {\n                      var _$setup$memberInfo$me7;\n                      return [_createTextVNode(_toDisplayString($setup.formatTime((_$setup$memberInfo$me7 = $setup.memberInfo.member) === null || _$setup$memberInfo$me7 === void 0 ? void 0 : _$setup$memberInfo$me7.updateTime)), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              })])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      })])];\n    }),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 修改密码 \"), _createVNode(_component_el_card, {\n    style: {\n      \"margin-top\": \"20px\"\n    }\n  }, {\n    header: _withCtx(function () {\n      return _toConsumableArray(_cache[10] || (_cache[10] = [_createElementVNode(\"span\", null, \"修改密码\", -1 /* CACHED */)]));\n    }),\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form, {\n        model: $setup.passwordForm,\n        rules: $setup.passwordRules,\n        ref: \"passwordFormRef\",\n        \"label-width\": \"100px\",\n        style: {\n          \"max-width\": \"500px\"\n        }\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_form_item, {\n            label: \"当前密码\",\n            prop: \"oldPassword\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.passwordForm.oldPassword,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n                  return $setup.passwordForm.oldPassword = $event;\n                }),\n                type: \"password\",\n                \"show-password\": \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"新密码\",\n            prop: \"newPassword\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.passwordForm.newPassword,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n                  return $setup.passwordForm.newPassword = $event;\n                }),\n                type: \"password\",\n                \"show-password\": \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"确认密码\",\n            prop: \"confirmPassword\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.passwordForm.confirmPassword,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n                  return $setup.passwordForm.confirmPassword = $event;\n                }),\n                type: \"password\",\n                \"show-password\": \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, null, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: $setup.handleChangePassword,\n                loading: $setup.passwordLoading\n              }, {\n                \"default\": _withCtx(function () {\n                  return _toConsumableArray(_cache[11] || (_cache[11] = [_createTextVNode(\" 修改密码 \", -1 /* CACHED */)]));\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\", \"loading\"])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\", \"rules\"])];\n    }),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 编辑资料对话框 \"), _createVNode(_component_el_dialog, {\n    modelValue: $setup.editDialogVisible,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = function ($event) {\n      return $setup.editDialogVisible = $event;\n    }),\n    title: \"编辑个人资料\",\n    width: \"50%\"\n  }, {\n    footer: _withCtx(function () {\n      return [_createVNode(_component_el_button, {\n        onClick: _cache[6] || (_cache[6] = function ($event) {\n          return $setup.editDialogVisible = false;\n        })\n      }, {\n        \"default\": _withCtx(function () {\n          return _toConsumableArray(_cache[12] || (_cache[12] = [_createTextVNode(\"取消\", -1 /* CACHED */)]));\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleSaveEdit\n      }, {\n        \"default\": _withCtx(function () {\n          return _toConsumableArray(_cache[13] || (_cache[13] = [_createTextVNode(\"保存\", -1 /* CACHED */)]));\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])];\n    }),\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form, {\n        model: $setup.editForm,\n        rules: $setup.editRules,\n        ref: \"editFormRef\",\n        \"label-width\": \"100px\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_form_item, {\n            label: \"用户名\",\n            prop: \"username\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.editForm.username,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n                  return $setup.editForm.username = $event;\n                }),\n                disabled: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"手机号\",\n            prop: \"phone\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.editForm.phone,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n                  return $setup.editForm.phone = $event;\n                })\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"邮箱\",\n            prop: \"email\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.editForm.email,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n                  return $setup.editForm.email = $event;\n                })\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\", \"rules\"])];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_component_el_button","type","onClick","$setup","handleEdit","_toConsumableArray","_cache","_hoisted_3","_component_el_row","gutter","_component_el_col","span","_$setup$memberInfo$us","_$setup$memberInfo$me","_hoisted_4","_component_el_avatar","size","icon","_toDisplayString","memberInfo","user","username","_component_el_tag","getLevelTagType","member","level","_$setup$memberInfo$me2","getLevelText","_hoisted_5","_component_el_descriptions","column","border","_component_el_descriptions_item","label","_$setup$memberInfo$me3","memberCode","_$setup$memberInfo$us2","_$setup$memberInfo$us3","phone","_$setup$memberInfo$us4","email","_$setup$memberInfo$me4","totalPoints","_$setup$memberInfo$me5","availablePoints","_$setup$memberInfo$me6","formatTime","createTime","_$setup$memberInfo$me7","updateTime","_createCommentVNode","style","_component_el_form","model","passwordForm","rules","passwordRules","ref","_component_el_form_item","prop","_component_el_input","oldPassword","$event","newPassword","confirmPassword","handleChangePassword","loading","passwordLoading","_component_el_dialog","editDialogVisible","title","width","footer","handleSaveEdit","editForm","editRules","disabled"],"sources":["/Users/libra520/JavaProject/repast-vip-system/frontend/src/views/member/Profile.vue"],"sourcesContent":["<template>\n  <div class=\"profile\">\n    <el-card>\n      <template #header>\n        <div class=\"card-header\">\n          <span>个人资料</span>\n          <el-button type=\"primary\" @click=\"handleEdit\">编辑资料</el-button>\n        </div>\n      </template>\n\n      <div class=\"profile-content\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"8\">\n            <div class=\"avatar-section\">\n              <el-avatar :size=\"120\" icon=\"User\" />\n              <h3>{{ memberInfo.user?.username }}</h3>\n              <el-tag :type=\"getLevelTagType(memberInfo.member?.level)\">\n                {{ getLevelText(memberInfo.member?.level) }}\n              </el-tag>\n            </div>\n          </el-col>\n          <el-col :span=\"16\">\n            <div class=\"info-section\">\n              <el-descriptions :column=\"2\" border>\n                <el-descriptions-item label=\"会员号\">{{ memberInfo.member?.memberCode }}</el-descriptions-item>\n                <el-descriptions-item label=\"用户名\">{{ memberInfo.user?.username }}</el-descriptions-item>\n                <el-descriptions-item label=\"手机号\">{{ memberInfo.user?.phone }}</el-descriptions-item>\n                <el-descriptions-item label=\"邮箱\">{{ memberInfo.user?.email }}</el-descriptions-item>\n                <el-descriptions-item label=\"总积分\">{{ memberInfo.member?.totalPoints }}</el-descriptions-item>\n                <el-descriptions-item label=\"可用积分\">{{ memberInfo.member?.availablePoints }}</el-descriptions-item>\n                <el-descriptions-item label=\"注册时间\" :span=\"2\">{{ formatTime(memberInfo.member?.createTime) }}</el-descriptions-item>\n                <el-descriptions-item label=\"最后更新\" :span=\"2\">{{ formatTime(memberInfo.member?.updateTime) }}</el-descriptions-item>\n              </el-descriptions>\n            </div>\n          </el-col>\n        </el-row>\n      </div>\n    </el-card>\n\n    <!-- 修改密码 -->\n    <el-card style=\"margin-top: 20px;\">\n      <template #header>\n        <span>修改密码</span>\n      </template>\n      <el-form :model=\"passwordForm\" :rules=\"passwordRules\" ref=\"passwordFormRef\" label-width=\"100px\" style=\"max-width: 500px;\">\n        <el-form-item label=\"当前密码\" prop=\"oldPassword\">\n          <el-input v-model=\"passwordForm.oldPassword\" type=\"password\" show-password />\n        </el-form-item>\n        <el-form-item label=\"新密码\" prop=\"newPassword\">\n          <el-input v-model=\"passwordForm.newPassword\" type=\"password\" show-password />\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n          <el-input v-model=\"passwordForm.confirmPassword\" type=\"password\" show-password />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleChangePassword\" :loading=\"passwordLoading\">\n            修改密码\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <!-- 编辑资料对话框 -->\n    <el-dialog v-model=\"editDialogVisible\" title=\"编辑个人资料\" width=\"50%\">\n      <el-form :model=\"editForm\" :rules=\"editRules\" ref=\"editFormRef\" label-width=\"100px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"editForm.username\" disabled />\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"phone\">\n          <el-input v-model=\"editForm.phone\" />\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSaveEdit\">保存</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport axios from 'axios'\n\nexport default {\n  name: 'MemberProfile',\n  setup() {\n    const memberInfo = ref({})\n    const editDialogVisible = ref(false)\n    const passwordLoading = ref(false)\n    const passwordFormRef = ref()\n    const editFormRef = ref()\n\n    const passwordForm = reactive({\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    })\n\n    const editForm = reactive({\n      username: '',\n      phone: '',\n      email: ''\n    })\n\n    const validateConfirmPassword = (rule, value, callback) => {\n      if (value !== passwordForm.newPassword) {\n        callback(new Error('两次输入的密码不一致'))\n      } else {\n        callback()\n      }\n    }\n\n    const passwordRules = {\n      oldPassword: [\n        { required: true, message: '请输入当前密码', trigger: 'blur' }\n      ],\n      newPassword: [\n        { required: true, message: '请输入新密码', trigger: 'blur' },\n        { min: 6, max: 20, message: '密码长度在 6 到 20 个字符', trigger: 'blur' }\n      ],\n      confirmPassword: [\n        { required: true, message: '请确认新密码', trigger: 'blur' },\n        { validator: validateConfirmPassword, trigger: 'blur' }\n      ]\n    }\n\n    const editRules = {\n      phone: [\n        { required: true, message: '请输入手机号', trigger: 'blur' },\n        { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号', trigger: 'blur' }\n      ],\n      email: [\n        { required: true, message: '请输入邮箱', trigger: 'blur' },\n        { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n      ]\n    }\n\n    const loadMemberInfo = async () => {\n      try {\n        const response = await axios.get('/member/profile')\n        if (response.data.code === 200) {\n          memberInfo.value = response.data.data\n        }\n      } catch (error) {\n        ElMessage.error('获取会员信息失败')\n      }\n    }\n\n    const handleEdit = () => {\n      editForm.username = memberInfo.value.user?.username\n      editForm.phone = memberInfo.value.user?.phone\n      editForm.email = memberInfo.value.user?.email\n      editDialogVisible.value = true\n    }\n\n    const handleSaveEdit = async () => {\n      try {\n        await editFormRef.value.validate()\n        \n        const response = await axios.put('/member/profile', {\n          phone: editForm.phone,\n          email: editForm.email\n        })\n        \n        if (response.data.code === 200) {\n          ElMessage.success('更新成功')\n          editDialogVisible.value = false\n          loadMemberInfo()\n        } else {\n          ElMessage.error(response.data.message || '更新失败')\n        }\n      } catch (error) {\n        ElMessage.error('更新失败')\n      }\n    }\n\n    const handleChangePassword = async () => {\n      try {\n        await passwordFormRef.value.validate()\n        passwordLoading.value = true\n\n        const response = await axios.post('/auth/change-password', {\n          oldPassword: passwordForm.oldPassword,\n          newPassword: passwordForm.newPassword\n        })\n\n        if (response.data.code === 200) {\n          ElMessage.success('密码修改成功')\n          // 清空表单\n          passwordForm.oldPassword = ''\n          passwordForm.newPassword = ''\n          passwordForm.confirmPassword = ''\n        } else {\n          ElMessage.error(response.data.message || '密码修改失败')\n        }\n      } catch (error) {\n        ElMessage.error(error.response?.data?.message || '密码修改失败')\n      } finally {\n        passwordLoading.value = false\n      }\n    }\n\n    const getLevelText = (level) => {\n      const levelMap = {\n        'BRONZE': '青铜会员',\n        'SILVER': '白银会员',\n        'GOLD': '黄金会员',\n        'PLATINUM': '铂金会员'\n      }\n      return levelMap[level] || '普通会员'\n    }\n\n    const getLevelTagType = (level) => {\n      const typeMap = {\n        'BRONZE': 'info',\n        'SILVER': '',\n        'GOLD': 'warning',\n        'PLATINUM': 'success'\n      }\n      return typeMap[level] || 'info'\n    }\n\n    const formatTime = (time) => {\n      return new Date(time).toLocaleString()\n    }\n\n    onMounted(() => {\n      loadMemberInfo()\n    })\n\n    return {\n      memberInfo,\n      editDialogVisible,\n      passwordLoading,\n      passwordForm,\n      editForm,\n      passwordFormRef,\n      editFormRef,\n      passwordRules,\n      editRules,\n      handleEdit,\n      handleSaveEdit,\n      handleChangePassword,\n      getLevelText,\n      getLevelTagType,\n      formatTime\n    }\n  }\n}\n</script>\n\n<style scoped>\n.profile {\n  padding: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.profile-content {\n  padding: 20px 0;\n}\n\n.avatar-section {\n  text-align: center;\n}\n\n.avatar-section h3 {\n  margin: 20px 0 10px 0;\n  color: #303133;\n}\n\n.info-section {\n  padding: 0 20px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}